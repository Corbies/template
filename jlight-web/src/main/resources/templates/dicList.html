<!DOCTYPE html>
<html ng-app="app" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <header th:replace="import"></header>
    <link rel="stylesheet" th:href="@{/assets/jstree/themes/default/style.css}" />
    <link rel="stylesheet" th:href="@{/css/user.css}"/>
    <script th:src="@{/js/common/customValid.js}"></script>
    <script th:src="@{/js/common/FormDirective.js}"></script>
    <script th:src="@{/js/common/util.js}"></script>
    <script th:src="@{/js/system/controller/DicCtrl.js}"></script>
    <script th:src="@{/assets/jstree/jstree.min.js}"></script>
    <script th:src="@{/assets/jstree/jstree.checkbox.js}"></script>
    <script th:src="@{/assets/jstree/checkboxTree.js}" type="text/javascript"></script>
    <title>字典管理</title>
</head>
<body ng-controller="ctrl">
<div class="page-content">
    <form id="form1" name="form" method="post" action="">
        <div class="Role_Manager_style">
            <div class="Manager_style search_style">
                <ul class="search_content clearfix" shiro:hasPermission="/dic/list">
                    <li><label class="lf">字典类型</label>
                        <label>
                        	 <select name="selectType" type="text" ng-model="requestParam.param.parentId"  ng-options="(m.id) as m.name for m in formTypeList"
ht-select-ajax="{url:'/dic/getCatagory',field:'formTypeList'}"  class="text_add">
										<option value="">请选择</option> 
                                     </select>
                        </label>
                    </li>
                    <button id="btn_search" ng-click="dicSearch = !dicSearch"  type="button" class="btn btn-primary">查询</button>
                </ul>
                <ul class="clearfix">
                    <button type="button" class="btn btn-primary addBtn" ng-click="update(1)"  shiro:hasPermission="/dic/add">添加</button>
                    <button type="button" class="btn btn-success updateBtn" ng-click="update(0)"  shiro:hasPermission="/dic/edit">编辑</button>
                    <button type="button" class="btn btn-danger deleteBtn" ht-del="{url:'/dic/delete',checkboxName:'subDicChkbox'}"  shiro:hasPermission="/dic/delete">删除</button>
                </ul>
                <div id="Assigned_Roles_style" style="display: none">
                    <div id="tree"></div>
                </div>
            </div>
            <!---->
            <div class="Manager_style">
                <div class="Dic_list">
                    <table id="Dic_list" cellpadding="0" cellspacing="0" class="table table-striped table-bordered table-hover">
                        <thead>
                        <tr>
                            <th>
                                <input name="dicChkAll" type="checkbox"  ng-model="selectAll" class="ace" title=""/>
                                <span class="lbl" style="cursor:pointer;"></span>
                            </th>
                            <th>字典code</th>
                            <th>字典值</th>
                            <th>创建日期</th>
                            <th>更新日期</th>
                            <th>备注 </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="item in data">
                            <td>
                                <input name="subDicChkbox" value="{{item.id}}" ng-model="selectedDicIds" type="checkbox" ht-checked="selectAll"   class="ace"/>
                                <span class="lbl" style="cursor:pointer;"></span>
                            </td>
                            <td ng-bind="item.code"></td>
                            <td ng-bind="item.name"></td>
                            <td ng-bind="item.createTime | date:'yyyy-MM-dd HH:mm:ss'"></td>
                            <td ng-bind="item.updateTime | date:'yyyy-MM-dd HH:mm:ss'"></td>
                            <td ng-bind="item.remark"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="eg-page"  url="/dic/list"  request-page-params="requestParam" click-search="dicSearch"  return-page-rows="data"></div>
            </div>
        </div>
    </form>
    
    <form name="form"  >
    	   <div id="Add_Dic_style" style="display: none">
                    <div class="user_Manager_style ">
                        <div class="add_user_style">
                            <ul class="clearfix">
                              <!--   <li>
                                    <label class="label_name">字典分类</label>
                                    <label>
                                        <input name="key" type="text" ng-model="entity.type" value="{{parentDic.id}}"
                                               class="text_add" ht-validate="{required:true}" />
                                    </label>
                                </li> -->
                                <li ng-show="formTypeList.length">
                                    <label class="label_name">选择分类</label>
                                     <select name="selectType" type="text" ng-model="entity.parentId"  ng-options="(m.id) as m.name for m in formTypeList"
ht-select-ajax="{url:'/dic/getCatagory',field:'formTypeList'}"   class="text_add">
										<option value="">请选择</option> 
                                     </select>
                                </li>
                                <li>
                                    <label class="label_name">字典code</label>
                                    <label>
                                        <input name="name" ng-model="entity.code" type="text" value=""
                                               class="text_add" ht-validate="{required:true}" />
                                    </label>
                                </li>
                                <li>
                                    <label class="label_name">字典name</label>
                                    <label>
                                        <input name="name" ng-model="entity.name" type="text" value=""
                                               class="text_add" ht-validate="{required:true}" />
                                    </label>
                                </li>
                                <li>
                                    <label class="label_name">是否分类</label>
                                    <label>
                                        <input name="isCatagory" ng-model="entity.isCatagory" type="radio" value="Y"
                                               class="text_add" ht-validate="{required:true}" />是
                                       
                                    </label>
                                    <label>
                                    	 <input name="isCatagory" ng-model="entity.isCatagory" type="radio" value="N"
                                               class="text_add" ht-validate="{required:true}" />否       
                                    </label>
                                </li>
                            </ul>
                            <div class="Remark" style="padding-top: 20px;">
                                <label class="label_name">备注</label>
                                <label>
                                    <textarea name="remark" ng-model="entity.remark" cols="" rows=""
                                              style="width: 456px; height: 100px; padding: 5px;"></textarea>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="layui-layer-btn"><a class="layui-layer-btn0" ht-save="/dic/save" ng-model="entity">保存</a><a class="layui-layer-btn1">取消</a></div>
                </div>
    </form>
    
</div>
</body>
</html>
